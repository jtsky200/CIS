/**
 * Script to update all translation files (en.json, fr.json) with new Phase 2 keys
 * de.json is already manually updated and serves as the reference
 */

const fs = require('fs');
const path = require('path');

// Read the German file as reference
const dePath = path.join(__dirname, 'public', 'translations', 'de.json');
const deData = JSON.parse(fs.readFileSync(dePath, 'utf8'));

// English translations
const enTranslations = {
  nav: {
    dashboard: "Dashboard",
    chat: "Chat",
    troubleshooting: "Troubleshooting",
    settings: "Settings",
    brandText: "Cadillac EV"
  },
  settings: {
    title: "Settings",
    subtitle: "Manage your application settings",
    tabs: {
      branding: "Branding",
      knowledgeDb: "Knowledge Base",
      technicalDb: "Technical Database",
      general: "General Settings"
    },
    branding: deData.settings.branding, // Keep existing branding translations
    knowledgeDb: {
      ...deData.settings.knowledgeDb,
      title: "Knowledge Base",
      subtitle: "Manage documents in the knowledge base",
      uploadDocument: "Upload Document",
      searchPlaceholder: "Search documents...",
      allCategories: "All Categories",
      sortNewest: "Newest first",
      sortOldest: "Oldest first",
      sortName: "By Name",
      sortSize: "By Size",
      selectAll: "Select all",
      selected: "selected",
      deleteSelected: "Delete selected",
      export: "Export",
      import: "Import",
      refresh: "Refresh",
      lastUpdate: "Last Update",
      documents: "Documents",
      totalSize: "Total Size",
      allFiles: "All Files",
      noDocuments: "No documents found"
    },
    technicalDb: {
      ...deData.settings.technicalDb,
      title: "Technical Database",
      subtitle: "Manage technical documents",
      uploadDocument: "Upload Document",
      searchPlaceholder: "Search technical documents...",
      allCategories: "All Categories",
      sortNewest: "Newest first",
      sortOldest: "Oldest first",
      sortName: "By Name",
      sortSize: "By Size",
      selectAll: "Select all",
      selected: "selected",
      deleteSelected: "Delete selected",
      export: "Export",
      import: "Import",
      refresh: "Refresh",
      lastUpdate: "Last Update",
      documents: "Documents",
      totalSize: "Total Size",
      allFiles: "All Files",
      technicalDatabase: "Technical Database",
      noDocuments: "No documents found"
    },
    general: {
      title: "General Settings",
      subtitle: "Manage system settings and advanced tools.",
      systemSettings: "System Settings",
      language: "Language",
      timezone: "Timezone",
      dateFormat: "Date Format",
      enableNotifications: "Enable notifications",
      aiModelConfig: "AI Model Configuration",
      primaryModel: "Primary AI Model",
      customModelConfig: "Custom Model Configuration",
      modelName: "Model Name",
      modelNamePlaceholder: "e.g. my-llama-3",
      apiEndpoint: "API Endpoint",
      apiEndpointPlaceholder: "https://your-server.com/v1",
      apiKey: "API Key",
      apiKeyPlaceholder: "Your API Key",
      databaseAccess: "Database Access",
      accessKnowledgeDb: "Access to Knowledge Base",
      accessTechnicalDb: "Access to Technical Database",
      temperature: "Temperature (Creativity)",
      maxTokens: "Max Tokens",
      chatSystemPrompt: "System Prompt (Chat Page)",
      chatSystemPromptPlaceholder: "You are a helpful Cadillac EV Assistant...",
      troubleshootingSystemPrompt: "System Prompt (Troubleshooting Page)",
      troubleshootingSystemPromptPlaceholder: "You are a technical support assistant...",
      enableStreaming: "Enable streaming (Real-time responses)",
      saveChatHistory: "Save chat history",
      unifiedWorkflow: "Unified Workflow (Let all models work together)",
      databaseSettings: "Database Settings",
      autoBackupInterval: "Auto-Backup Interval",
      maxFileSize: "Maximum File Size (MB)",
      allowedFileTypes: "Allowed File Types",
      enableDuplicateDetection: "Enable duplicate detection",
      autoCategor: "Auto-categorization",
      createBackup: "Create Backup",
      restoreBackup: "Restore Backup",
      clearCache: "Clear Cache",
      deleteAllData: "Delete All Data",
      apiSettings: "API Settings (Multiple API Keys)",
      apiTimeout: "API Timeout (Seconds)",
      rateLimit: "Rate Limit (Requests per minute)",
      retryAttempts: "Retry attempts on error",
      securitySettings: "Security & Users",
      sessionTimeout: "Session Timeout (Minutes)",
      enable2FA: "Enable two-factor authentication",
      enableActivityLog: "Enable activity log",
      changePassword: "Change Password",
      viewActivityLog: "View Activity Log",
      performanceSettings: "Performance & Optimization",
      cacheSize: "Cache Size (MB)",
      enableLazyLoading: "Enable lazy loading",
      enableImageCompression: "Enable image compression",
      enablePrefetching: "Enable prefetching",
      notificationSettings: "Notifications",
      notificationEmail: "Email address for notifications",
      enableEmailNotifications: "Enable email notifications",
      enablePushNotifications: "Enable push notifications",
      notificationFrequency: "Notification Frequency",
      advancedTools: "Advanced Tools",
      enableDebugMode: "Enable debug mode",
      enableAnalytics: "Enable analytics",
      enableWebhook: "Enable webhook integration",
      webhookUrl: "Webhook URL",
      customCss: "Custom CSS",
      viewLogs: "View Logs",
      exportSettings: "Export Settings",
      importSettings: "Import Settings",
      testWebhook: "Test Webhook",
      saveChanges: "Save Changes",
      reset: "Reset"
    }
  },
  dashboard: deData.dashboard,
  chat: deData.chat,
  troubleshooting: deData.troubleshooting,
  common: deData.common
};

// French translations
const frTranslations = {
  nav: {
    dashboard: "Tableau de bord",
    chat: "Chat",
    troubleshooting: "Dépannage",
    settings: "Paramètres",
    brandText: "Cadillac EV"
  },
  settings: {
    title: "Paramètres",
    subtitle: "Gérer les paramètres de votre application",
    tabs: {
      branding: "Image de marque",
      knowledgeDb: "Base de connaissances",
      technicalDb: "Base de données technique",
      general: "Paramètres généraux"
    },
    branding: deData.settings.branding, // Keep existing
    knowledgeDb: {
      ...deData.settings.knowledgeDb,
      title: "Base de connaissances",
      subtitle: "Gérer les documents dans la base de connaissances",
      uploadDocument: "Télécharger un document",
      searchPlaceholder: "Rechercher des documents...",
      allCategories: "Toutes les catégories",
      sortNewest: "Plus récent en premier",
      sortOldest: "Plus ancien en premier",
      sortName: "Par nom",
      sortSize: "Par taille",
      selectAll: "Tout sélectionner",
      selected: "sélectionné(s)",
      deleteSelected: "Supprimer la sélection",
      export: "Exporter",
      import: "Importer",
      refresh: "Actualiser",
      lastUpdate: "Dernière mise à jour",
      documents: "Documents",
      totalSize: "Taille totale",
      allFiles: "Tous les fichiers",
      noDocuments: "Aucun document trouvé"
    },
    technicalDb: {
      ...deData.settings.technicalDb,
      title: "Base de données technique",
      subtitle: "Gérer les documents techniques",
      uploadDocument: "Télécharger un document",
      searchPlaceholder: "Rechercher des documents techniques...",
      allCategories: "Toutes les catégories",
      sortNewest: "Plus récent en premier",
      sortOldest: "Plus ancien en premier",
      sortName: "Par nom",
      sortSize: "Par taille",
      selectAll: "Tout sélectionner",
      selected: "sélectionné(s)",
      deleteSelected: "Supprimer la sélection",
      export: "Exporter",
      import: "Importer",
      refresh: "Actualiser",
      lastUpdate: "Dernière mise à jour",
      documents: "Documents",
      totalSize: "Taille totale",
      allFiles: "Tous les fichiers",
      technicalDatabase: "Base de données technique",
      noDocuments: "Aucun document trouvé"
    },
    general: {
      title: "Paramètres généraux",
      subtitle: "Gérer les paramètres système et les outils avancés.",
      systemSettings: "Paramètres système",
      language: "Langue",
      timezone: "Fuseau horaire",
      dateFormat: "Format de date",
      enableNotifications: "Activer les notifications",
      aiModelConfig: "Configuration du modèle IA",
      primaryModel: "Modèle IA principal",
      customModelConfig: "Configuration de modèle personnalisé",
      modelName: "Nom du modèle",
      modelNamePlaceholder: "par ex. my-llama-3",
      apiEndpoint: "Point de terminaison API",
      apiEndpointPlaceholder: "https://votre-serveur.com/v1",
      apiKey: "Clé API",
      apiKeyPlaceholder: "Votre clé API",
      databaseAccess: "Accès à la base de données",
      accessKnowledgeDb: "Accès à la base de connaissances",
      accessTechnicalDb: "Accès à la base de données technique",
      temperature: "Température (Créativité)",
      maxTokens: "Tokens maximum",
      chatSystemPrompt: "Prompt système (Page de chat)",
      chatSystemPromptPlaceholder: "Vous êtes un assistant Cadillac EV...",
      troubleshootingSystemPrompt: "Prompt système (Page de dépannage)",
      troubleshootingSystemPromptPlaceholder: "Vous êtes un assistant de support technique...",
      enableStreaming: "Activer le streaming (Réponses en temps réel)",
      saveChatHistory: "Enregistrer l'historique du chat",
      unifiedWorkflow: "Flux de travail unifié (Tous les modèles travaillent ensemble)",
      databaseSettings: "Paramètres de la base de données",
      autoBackupInterval: "Intervalle de sauvegarde automatique",
      maxFileSize: "Taille maximale du fichier (Mo)",
      allowedFileTypes: "Types de fichiers autorisés",
      enableDuplicateDetection: "Activer la détection des doublons",
      autoCategor: "Catégorisation automatique",
      createBackup: "Créer une sauvegarde",
      restoreBackup: "Restaurer la sauvegarde",
      clearCache: "Vider le cache",
      deleteAllData: "Supprimer toutes les données",
      apiSettings: "Paramètres API (Plusieurs clés API)",
      apiTimeout: "Délai d'attente API (Secondes)",
      rateLimit: "Limite de débit (Requêtes par minute)",
      retryAttempts: "Tentatives de nouvelle tentative en cas d'erreur",
      securitySettings: "Sécurité et utilisateurs",
      sessionTimeout: "Délai d'expiration de la session (Minutes)",
      enable2FA: "Activer l'authentification à deux facteurs",
      enableActivityLog: "Activer le journal d'activité",
      changePassword: "Changer le mot de passe",
      viewActivityLog: "Afficher le journal d'activité",
      performanceSettings: "Performance et optimisation",
      cacheSize: "Taille du cache (Mo)",
      enableLazyLoading: "Activer le chargement paresseux",
      enableImageCompression: "Activer la compression d'images",
      enablePrefetching: "Activer la prélecture",
      notificationSettings: "Notifications",
      notificationEmail: "Adresse e-mail pour les notifications",
      enableEmailNotifications: "Activer les notifications par e-mail",
      enablePushNotifications: "Activer les notifications push",
      notificationFrequency: "Fréquence des notifications",
      advancedTools: "Outils avancés",
      enableDebugMode: "Activer le mode débogage",
      enableAnalytics: "Activer les analyses",
      enableWebhook: "Activer l'intégration webhook",
      webhookUrl: "URL du webhook",
      customCss: "CSS personnalisé",
      viewLogs: "Afficher les journaux",
      exportSettings: "Exporter les paramètres",
      importSettings: "Importer les paramètres",
      testWebhook: "Tester le webhook",
      saveChanges: "Enregistrer les modifications",
      reset: "Réinitialiser"
    }
  },
  dashboard: deData.dashboard,
  chat: deData.chat,
  troubleshooting: deData.troubleshooting,
  common: deData.common
};

// Write English file
const enPath = path.join(__dirname, 'public', 'translations', 'en.json');
fs.writeFileSync(enPath, JSON.stringify(enTranslations, null, 2) + '\n', 'utf8');
console.log('✅ Updated en.json');

// Write French file
const frPath = path.join(__dirname, 'public', 'translations', 'fr.json');
fs.writeFileSync(frPath, JSON.stringify(frTranslations, null, 2) + '\n', 'utf8');
console.log('✅ Updated fr.json');

console.log('\n🎉 All translation files updated successfully!');
console.log('📝 Total keys added: ~71 new translations across all languages');

